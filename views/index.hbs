<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Conference</title>
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico">

  <!-- Boxicons -->
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  <!-- ICONSCOUT CDN -->
  <link rel="stylesheet" href="https://unicons.iconscout.com/release/v2.1.6/css/unicons.css" />
  <!-- STYLESHEET -->
  <link rel="stylesheet" href="./styles/style.css" />
  <link rel="stylesheet" href="./styles/dropdown.css">

</head>

<body>
  <div class="progress" id="PreLoaderBar" style="z-index: 10000;">
    <div class="indeterminate"></div>
  </div>
  <nav>
    <div class="container">
      <!-- <i class='bx bx-arrow-back' onclick="window.history.back();"></i> -->
      <h2 class="logo">Conference</h2>
      <div class="search-bar">
        <i class="uil uil-search"></i>
        <input type="search" placeholder="Search for creators, inspiration and projects"
          onclick="window.location.href='/search'" />
      </div>
      <div class="create"> <a href="/notification"><big> <i class="uil uil-bell" style="margin: 0 1rem;"></i></big></a>

        <a href="/{{UserDetails.UserID}}">
          <div class="profile-photo">
            <img src="{{UserDetails.UserDp}}"
              onerror="this.src='https://cdn.pixabay.com/photo/2022/02/26/18/16/peace-7036144_640.png'" />
            />
          </div>
        </a>

      </div>
    </div>
  </nav>
  <main>
    <div class="container">
      <!-- LEFT -->
      <div class="left">
        <a href="/{{UserDetails.UserID}}" class="profile">
          <div class="profile-photo">
            <img src="{{UserDetails.UserDp}}"
              onerror="this.src='https://cdn.pixabay.com/photo/2022/02/26/18/16/peace-7036144_640.png'" />
            />
          </div>
          <div class="handle">
            <h4>{{UserDetails.UserName}}</h4>
            <p class="text-muted">@{{UserDetails.UserHandle}}</p>
          </div>
        </a>
        <!-- SIDEBAR -->
        <div class="sidebar">
          <a href="/" class="menu-item active"><span><i class="uil uil-home"></i></span>
            <h3>Home</h3>
            <p class="text-muted">Home</p>
          </a>
          <a href="/search" class="menu-item"><span><i class="uil uil-compass"></i></span>
            <h3>Search</h3>
            <p class="text-muted">Search</p>
          </a>
          <!-- <a href="/notification" class="menu-item" id="notifications"><span><i
                  class="uil uil-bell"
                > <small class="notification-count"></small></i></span>
              <h3>Notifications</h3>

            </a> -->
          <a href="/notification" class="menu-item" id="notifications"><span><i class="uil uil-bell"></i></span>
            <h3>Notifications</h3>
            <p class="text-muted">Notify</p>
          </a>
          <a href="/message" class="menu-item" id="messages-notification"><span><i
                class="uil uil-envelope-alt"></i></span>
            <h3>Messages</h3>
            <p class="text-muted">Chats</p>
          </a>
          <a href="/save" class="menu-item"><span><i class="uil uil-bookmark"></i></span>
            <h3>Bookmarks</h3>
            <p class="text-muted">Saves</p>
          </a>

          <a href="#" class="menu-item" id="theme"><span><i class="uil uil-palette"></i></span>
            <h3>Theme</h3>
            <p class="text-muted">Theme</p>
          </a>
          <a href="/settings" class="menu-item" onclick="settings('{{UserDetails}}')"><span><i
                class="uil uil-setting"></i></span>
            <h3>Settings</h3>
            <p class="text-muted">Settings</p>
          </a>
        </div>
        <!-- END OF SIDEBAR -->
      </div>
      <!-- END OF LEFT -->
      <!-- MIDDLE -->
      <div class="middle" id="middle">
        <!-- STORIES -->
        <!-- <div class="stories">
            <div class="story">
              <div class="profile-photo">
                <img
                  src="https://cdn.pixabay.com/photo/2021/08/25/20/42/field-6574455_1280.jpg"
                />
              </div>
              <p class="name">Your story</p>
            </div>
            <div class="story">
              <div class="profile-photo">
                <img
                  src="https://cdn.pixabay.com/photo/2021/08/25/20/42/field-6574455_1280.jpg"
                />
              </div>
              <p class="name">Lilla James</p>
            </div>
            <div class="story">
              <div class="profile-photo">
                <img
                  src="https://cdn.pixabay.com/photo/2023/09/05/03/26/lord-radha-8234176_640.png"
                />
              </div>
              <p class="name">Winnie Hale</p>
            </div>
            <div class="story">
              <div class="profile-photo">
                <img
                  src="https://cdn.pixabay.com/photo/2023/05/05/04/16/ai-generated-7971439_640.jpg"
                />
              </div>
              <p class="name">Daniel Jones</p>
            </div>
            <div class="story">
              <div class="profile-photo">
                <img
                  src="https://cdn.pixabay.com/photo/2016/11/02/18/38/river-1792451_640.jpg"
                />
              </div>
              <p class="name">Jane Doe</p>
            </div>
            <div class="story">
              <div class="profile-photo">
                <img
                  src="https://cdn.pixabay.com/photo/2023/11/11/08/23/woman-8380758_640.jpg"
                />
              </div>
              <p class="name">Tina White</p>
            </div>

          </div> -->
        <div class="preview" id="preview" style="display: none;">
          <img id="preview-photo" style="display: none;" class="preview-photo">
          <video id="preview-video" style="display: none;" class="preview-video"></video>
          <p id="file-name" style="display: none;" class="pdf-name"></p>
        </div>

        <form class="create-post" id="post_form" enctype="multipart/form-data">
          <div class="profile-photo">
            <img src="{{UserDetails.UserDp}}"
              onerror="this.src='https://cdn.pixabay.com/photo/2022/02/26/18/16/peace-7036144_640.png'" />
            />
          </div>

          <textarea id="create-post" placeholder="What's on your mind, {{UserDetails.UserName}}?" required></textarea>

          <input type="file" id="fileinput" name="fileinput" accept="image/*,application/pdf,video/*"
            style="display: none;" />

          <label for="fileinput" class="btn"> <big><i class='bx bx-paperclip bx-rotate-90'></i></big>

          </label>

          <input type="submit" id="post-submit-btn" value="Post" class="btn btn-primary" />
        </form>

        <div id="myPopup" class="popup">
          <div class="popup-content">
            <label for="" class="text-bold">Delete Post Permanently</label>
            <button id="noButton" class="formal-button">
              No
            </button>
            <button id="yesButton" class="formal-button">
              Yes
            </button>
          </div>
        </div>

        <!-- FEEDS -->
        <div class="feeds" id="feeds">
          <!-- FEED 1 -->
          {{#each posts}}
          <div class="feed">
            <div class="head">
              <a href="/{{this.authorID}}">
                <div class="user">
                  <div class="profile-photo">
                    <img src="{{this.UserDetails.UserDp}}"
                      onerror="this.src='https://source.unsplash.com/random?user={{this.authorID}}'" />
                  </div>
                  <div class="info">
                    <h3>{{this.UserDetails.UserName}}</h3>
                    <small>{{formatDate this.CreatedAt}}</small>
                  </div>
                </div>
              </a>

              <!-- <span class="edit">
                    <i class="uil uil-ellipsis-h"></i>
                  </span> -->

              <span class="dropdown edit">
                <i onclick="myFunction('{{this._id}}')" class="dropbtn uil uil-ellipsis-h"></i>
                <div id="myDropdown-{{this._id}}" class="dropdown-content">
                  {{#if (eq this.UserDetails.UserID ../UserDetails.UserID)}}
                  <a href="#" onclick="showDeletePopup('{{this._id}}')">Delete</a>
                  {{else}}{{/if}}
                  <a href="/comment/{{this._id}}">Comment</a>
                  <a href="/{{this.authorID}}">Profile</a>
                </div>
              </span>

            </div>
            <a href="/comment/{{this._id}}">
              <div class="photo">
                <p class="post-text">{{this.text}}</p>
                {{#if this.photo}}
                <img src="{{this.photo}}" onerror="this.style.display='none'" />
                {{/if}}
                {{#if this.video}}
                <video width="" height="" controls src="{{this.video}}" onerror="this.style.display='none'"
                  class="preview-video" style="overflow: auto;width: 100%;object-fit: cover;">

                </video>
                {{/if}}
                {{#if this.pdf}}
                <div id="pdf-loader"
                  style="width:100%; height:300px; display: flex; align-items: center; justify-content: center;">
                  <p>Loading PDF...</p>
                </div>
                <iframe id="pdf-preview" src="http://docs.google.com/gview?url={{this.pdf}}&embedded=true"
                  style="width:100%; height:300px; display: none;" frameborder="0"
                  onload="document.getElementById('pdf-loader').style.display='none'; this.style.display='block';"></iframe>
                <a href="{{this.pdf}}" download>Download PDF</a>

                {{/if}}


              </div>
            </a>

            <div class="action-buttons">
              <div class="interaction-buttons">
                <!-- <span><i class="uil uil-thumbs-up"></i></span> -->
                <span class="like-post">
                  {{#if (eq this.liked 1)}}
                  <i onclick="likePost(event,'{{this._id}}','{{this.authorID}}')"
                    ondblclick="likePost(event,'{{this._id}}','{{this.authorID}}')" class='bx bxs-like'
                    style="color: #f54a6c;"></i>
                  {{else}}
                  <i onclick="likePost(event,'{{this._id}}','{{this.authorID}}')"
                    ondblclick="likePost(event,'{{this._id}}','{{this.authorID}}')" class='bx bx-like'
                    style="color: #f54a6c"></i>
                  {{/if}}
                </span>
                <span><a href="/comment/{{this._id}}"><i class="uil uil-comment-dots"
                      style="color: rgb(51, 100, 51);"></i></a></span>
                <!-- <span><i class="uil uil-share-alt"></i></span> -->
                <span class="dropdown edit">
                  <i onclick="shareFunction('{{this._id}}')" class="dropbtn uil uil-share-alt"
                    style="color: rgb(104, 49, 192);"></i>
                  <div id="shareDropdown-{{this._id}}" class="dropdown-content-share">
                    <a onclick="sharePost('{{this._id}}','linkedin')" target="_blank"><i class='bx bxl-linkedin-square'
                        style="border-radius: 50%;"></i></a>
                    <a onclick="sharePost('{{this._id}}','twitter')" target="_blank"><i class='bx bxl-twitter'
                        style="border-radius: 50%;"></i></a>
                    <a onclick="sharePost('{{this._id}}','whatsapp')" target="_blank"><i class='bx bxl-whatsapp-square'
                        style="border-radius: 50%;"></i></a>
                    <a onclick="sharePost('{{this._id}}','facebook')" target="_blank"><i
                        class='bx bxl-facebook-circle'></i></a>
                    <a onclick="sharePost('{{this._id}}','instagram')" target="_blank"><i class='bx bxl-instagram-alt'
                        style="border-radius: 50%;"></i></a>
                  </div>
                </span>
              </div>
              <div class="bookmark" >
                <span>
                  {{#if (eq this.saved 1)}}<i class='bx bxs-bookmark' onclick="savePost(event,'{{this._id}}','{{this.authorID}}')" style="color: #6a3bec;"></i>{{else}}<i
                    class='bx bx-bookmark' style="color: #6a3bec" onclick="savePost(event,'{{this._id}}','{{this.authorID}}')"></i>{{/if}}
                </span>
              </div>
            </div>

            <!-- <div class="liked-by">
                    <span>
                      <img
                        src="https://cdn.pixabay.com/photo/2016/11/07/09/07/river-1805188_640.jpg"
                      />
                    </span>
                    <span>
                      <img
                        src="https://cdn.pixabay.com/photo/2024/01/18/10/50/cormorant-8516719_640.jpg"
                      />
                    </span>
                    <span>
                      <img
                        src="https://cdn.pixabay.com/photo/2024/01/18/00/36/boat-8515980_640.jpg"
                      />
                    </span>
                    <p>Liked by
                      <b>Ernest Achiever </b>and
                      <b>2,323 others</b></p>
                  </div> -->
            <div class="caption">
              <p>
                <b>{{UserDetails.UserSchool}}</b>
               | {{UserDetails.UserCourse}} | <b>Section</b> {{UserDetails.UserSection}} |
                <b>Roll No.</b>
                {{UserDetails.UserRollno}}
              </p>
              <!-- <p><span class="harsh-tag">#lifestyle</span></p> -->
            </div>
            <a href="/comment/{{this._id}}">
              <div class="comments text-muted">View all comments</div>
            </a>

          </div>
          {{/each}}
          <div class="loader" id="loader"></div>

          <!-- END OF FEED 1 -->

          <!-- FEED 3 -->
          <!-- <div class="feed">
              <div class="head">
                <div class="user">
                  <div class="profile-photo">
                    <img
                      src="https://cdn.pixabay.com/photo/2023/11/20/16/37/snowflakes-8401477_640.png"
                    />
                  </div>
                  <div class="info">
                    <h3>Daniel Jones</h3>
                    <small>UK, 1 HOUR AGO</small>
                  </div>
                </div>
                <span class="edit">
                  <i class="uil uil-ellipsis-h"></i>
                </span>
              </div>
              <div class="photo">
                <img
                  src="https://cdn.pixabay.com/photo/2024/01/15/08/56/women-8509637_640.jpg"
                />
              </div>
              <div class="action-buttons">
                <div class="interaction-buttons">
                  <span><i class="uil uil-thumbs-up"></i></span>
                  <span><i class="uil uil-comment-dots"></i></span>
                  <span><i class="uil uil-share-alt"></i></span>
                </div>
                <div class="bookmark">
                  <span><i class="uil uil-bookmark-full"></i></span>
                </div>
              </div>
              <div class="liked-by">
                <span>
                  <img
                    src="https://cdn.pixabay.com/photo/2023/03/18/05/26/ferris-wheel-7859855_640.jpg"
                  />
                </span>
                <span>
                  <img
                    src="https://cdn.pixabay.com/photo/2023/03/18/05/26/ferris-wheel-7859855_640.jpg"
                  />
                </span>
                <span>
                  <img
                    src="https://cdn.pixabay.com/photo/2023/03/18/05/26/ferris-wheel-7859855_640.jpg"
                  />
                </span>
                <p>Liked by <b>Winnie Hale </b>and <b>3,001 others</b></p>
              </div>
              <div class="caption">
                <p>
                  <b>Daniel Jones</b>
                  Lorem ipsum dolor sit, amet consectetur adipisicing elit.
                  <span class="harsh-tag">#happiness</span>
                </p>
              </div>
              <div class="comments text-muted">View all 1,300 comments</div>
            </div> -->
          <!-- END OF FEED 3 -->
        </div>
        <!-- END OF FEEDS-->
      </div>
      <!-- END OF MIDDLE -->
      <!-- RIGHT -->
      <div class="right">
        <!-- MESSAGES -->
        <div class="messages">
          <div class="heading">
            <h4>Messages</h4>
            <i class="uil uil-edit"></i>
          </div>
          <!-- SEARCH BAR -->
          <div class="search-bar">
            <i class="uil uil-search"></i>
            <input type="search" id="message-search" placeholder="Search messages" />
          </div>
          <!-- MESSAGES CATEGORY -->
          {{!-- <div class="category">
            <h6 class="active">Primary</h6>
            <h6>General</h6>
            <h6 class="message-requests">Requests{3}</h6>
          </div> --}}
          <!-- MESSAGE -->
          {{#each messages}}
          <div class="message">
            <div class="profile-photo">
              <img
                src="{{#if (eq this.sender.UserID ../UserDetails.UserID)}}{{this.receiver.UserDp}}{{else}}{{this.sender.UserDp}}{{/if}}" />
            </div>
            <div class="message-body">
              <a href="/chat/{{#if (eq this.sender.UserID ../UserDetails.UserID)}}{{this.receiver.UserID}}{{else}}{{this.sender.UserID}}{{/if}}"
                class="profile unread users-profile">
                <h5>{{#if (eq this.sender.UserID ../UserDetails.UserID)}}{{this.receiver.UserName}} {{else}}
                  {{this.sender.UserName}} {{/if}}</h5>
                <p class="text-muted">in your chats</p>
              </a>
            </div>
          </div>
          {{/each}}

          {{#if (eq users.length 0)}}{{else}}
          <p class="text-muted">New Users</p>
          {{#each users}}
          <div class="message">
            <div class="profile-photo">
              <img src="{{this.dp}}" />
            </div>
            <div class="message-body">
              <a href="/{{this._id}}" class="profile unread users-profile">
                <h5>{{this.name}}</h5>
                <p class="text-muted">user at conference</p>
              </a>
            </div>
          </div>
          {{/each}}
          {{/if}}

          <!-- <div class="message">
              <div class="profile-photo">
                <img
                  src="https://cdn.pixabay.com/photo/2023/12/15/15/52/bird-8450958_640.png"
                />
                <div class="active"></div>
              </div>
              <div class="message-body">
                <h5>Chantal Msiza</h5>
                <p class="text-bold">Birthday tomorrow!</p>
              </div>
            </div> -->
        </div>
        <!-- END OF MESSAGES -->
        <!-- FRIEND REQUSTS -->
        <div class="friend-requests">
          <h4>Requests</h4>
          <p class="text-muted">No requests at the moment</p>
          <!-- <div class="request">
              <div class="info">
                <div class="profile-photo">
                  <img
                    src="https://cdn.pixabay.com/photo/2023/03/29/19/32/man-7886201_640.jpg"
                  />
                </div>
                <div>
                  <h5>Hajia Bintu</h5>
                  <p class="text-muted">8 mutual friends</p>
                </div>
              </div>
              <div class="action">
                <button class="btn btn-primary">Accept</button>
                <button class="btn">Decline</button>
              </div>
            </div>
            <div class="request">
              <div class="info">
                <div class="profile-photo">
                  <img
                    src="https://cdn.pixabay.com/photo/2023/12/02/11/21/winter-8425500_640.jpg"
                  />
                </div>
                <div>
                  <h5>Jacqueline Mensah</h5>
                  <p class="text-muted">1 mutual friend</p>
                </div>
              </div>
              <div class="action">
                <button class="btn btn-primary">Accept</button>
                <button class="btn">Decline</button>
              </div>
            </div>
            <div class="request">
              <div class="info">
                <div class="profile-photo">
                  <img
                    src="https://cdn.pixabay.com/photo/2023/06/10/14/48/giraffe-8054174_640.jpg"
                  />
                </div>
                <div>
                  <h5>Sarah King</h5>
                  <p class="text-muted">5 mutual friends</p>
                </div>
              </div>
              <div class="action">
                <button class="btn btn-primary">Accept</button>
                <button class="btn">Decline</button>
              </div>
            </div> -->
        </div>
      </div>
      <!-- END OF RIGHT -->
      <!-- THEME CUSTOMIZATION -->
      <div class="customize-theme">
        <div class="card">
          <h2>Customize your view</h2>
          <p class="text-muted">
            Manage your font size, color and background
          </p>
          <!-- FONT SIZES -->
          <div class="font-size">
            <h4>Font Size</h4>
            <div>
              <h6>Aa</h6>
              <div class="choose-size">
                <span class="font-size-1"></span>
                <span class="font-size-2 active"></span>
                <span class="font-size-3"></span>
                <span class="font-size-4"></span>
                <span class="font-size-5"></span>
              </div>
              <h3>Aa</h3>
            </div>
          </div>
          <!-- PRIMARY COLORS -->
          <div class="color">
            <h4>Color</h4>
            <div class="choose-color">
              <span class="color-1 active"></span>
              <span class="color-2"></span>
              <span class="color-3"></span>
              <span class="color-4"></span>
              <span class="color-5"></span>
            </div>
          </div>
          <!-- BACKGROUND COLORS -->
          <div class="background">
            <h4>Background</h4>
            <div class="choose-bg">
              <div class="bg-1 active">
                <span></span>
                <h5 for="bg-1">Light</h5>
              </div>
              <div class="bg-2">
                <span></span>
                <h5>Dim</h5>
              </div>
              <div class="bg-3">
                <span></span>
                <h5 for="bg-3">Lights out</h5>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- END OF THEME CUSTOMIZATION -->
    </div>
  </main>
  <div id="root" data-id="{{UserDetails.UserID}}" style="display: none;"></div>
</body>

</html>
<script src="./scripts/index.js"></script>
<script src="./scripts/main.js"></script>
<script src="./scripts/savePost.js"></script>
<script src="./scripts/likePost.js"></script>
<script src="./scripts/sharePost.js"></script>
<script src="./scripts/dropdown.js"></script>